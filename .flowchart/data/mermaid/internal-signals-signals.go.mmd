flowchart TD
    Entry(["signalHandler.Handle Entry<br>ctx context.Context, shutdownFunc func" ]) --> CreateChan["Create sigChan<br>make(chan os.Signal, 1)"]

    CreateChan --> RegisterSignals["Register Signals<br>signal.Notify(sigChan, syscall.SIGTERM, syscall.SIGINT, syscall.SIGHUP)"]

    RegisterSignals --> SelectBlock[Enter Select Block<br>Blocking Wait]

    subgraph "Select Multiplexing"
        SelectBlock --> Case1["Case 1: <-ctx.Done()"]
        SelectBlock --> Case2[Case 2: sig := <-sigChan]

        Case1 --> Return1([Return from Handler<br>Goroutine Exits])

        Case2 --> ExecuteShutdown["Execute shutdownFunc()"]
        ExecuteShutdown --> Return2([Return from Handler<br>Goroutine Exits])
    end

    %% Signal types annotation
    SignalsNote["Monitored Signals:<br>SIGTERM - Termination<br>SIGINT - Interrupt (Ctrl+C)<br>SIGHUP - Hangup"] -.-> RegisterSignals

    %% Styling
    classDef process fill:#1e293b,stroke:#3498db,stroke-width:2px,color:#e2e8f0
    classDef terminator fill:#0f172a,stroke:#a78bfa,stroke-width:2px,color:#e2e8f0
    classDef signal fill:#854d0e,stroke:#eab308,stroke-width:2px,color:#fef9c3
    classDef case fill:#1e3a5f,stroke:#4f9eff,stroke-width:2px,color:#e2e8f0
    classDef note fill:#374151,stroke:#6b7280,stroke-width:1px,color:#d1d5db,font-style:italic

    class Entry,Return1,Return2 terminator
    class CreateChan,RegisterSignals,ExecuteShutdown signal
    class SelectBlock,Case1,Case2 case
    class SignalsNote note
